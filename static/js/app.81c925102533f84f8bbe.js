webpackJsonp([1,2],[,,function(t,s,e){"use strict";!function(t,s){function e(){var s=n.getBoundingClientRect().width;s/c>540&&(s=540*c);var e=s/10;n.style.fontSize=e+"px",u.rem=t.rem=e}var a,i=t.document,n=i.documentElement,o=i.querySelector('meta[name="viewport"]'),r=i.querySelector('meta[name="flexible"]'),c=0,l=0,u=s.flexible||(s.flexible={});if(o){console.warn("将根据已有的meta标签来设置缩放比例");var d=o.getAttribute("content").match(/initial\-scale=([\d\.]+)/);d&&(l=parseFloat(d[1]),c=parseInt(1/l))}else if(r){var v=r.getAttribute("content");if(v){var f=v.match(/initial\-dpr=([\d\.]+)/),p=v.match(/maximum\-dpr=([\d\.]+)/);f&&(c=parseFloat(f[1]),l=parseFloat((1/c).toFixed(2))),p&&(c=parseFloat(p[1]),l=parseFloat((1/c).toFixed(2)))}}if(!c&&!l){var h=(t.navigator.appVersion.match(/android/gi),t.navigator.appVersion.match(/iphone/gi)),_=t.devicePixelRatio;c=h?_>=3&&(!c||c>=3)?3:_>=2&&(!c||c>=2)?2:1:1,l=1/c}if(n.setAttribute("data-dpr",c),!o)if(o=i.createElement("meta"),o.setAttribute("name","viewport"),o.setAttribute("content","initial-scale="+l+", maximum-scale="+l+", minimum-scale="+l+", user-scalable=no"),n.firstElementChild)n.firstElementChild.appendChild(o);else{var m=i.createElement("div");m.appendChild(o),i.write(m.innerHTML)}t.addEventListener("resize",function(){clearTimeout(a),a=setTimeout(e,300)},!1),t.addEventListener("pageshow",function(t){t.persisted&&(clearTimeout(a),a=setTimeout(e,300))},!1),"complete"===i.readyState?i.body.style.fontSize=12*c+"px":i.addEventListener("DOMContentLoaded",function(t){i.body.style.fontSize=12*c+"px"},!1),e(),u.dpr=t.dpr=c,u.refreshRem=e,u.rem2px=function(t){var s=parseFloat(t)*this.rem;return"string"==typeof t&&t.match(/rem$/)&&(s+="px"),s},u.px2rem=function(t){var s=parseFloat(t)/this.rem;return"string"==typeof t&&t.match(/px$/)&&(s+="rem"),s}}(window,window.lib||(window.lib={}))},,,,,,,,,,,,,,,,,,,function(t,s,e){e(85);var a=e(1)(e(46),e(98),null,null);t.exports=a.exports},function(t,s,e){e(84);var a=e(1)(e(48),e(97),null,null);t.exports=a.exports},function(t,s,e){e(87);var a=e(1)(e(51),e(100),null,null);t.exports=a.exports},function(t,s,e){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(s,"__esModule",{value:!0});var i=e(4),n=a(i),o=e(101),r=a(o),c=e(91),l=a(c),u=e(90),d=a(u),v=e(92),f=a(v);n.default.use(r.default);var p=[{path:"/",component:l.default},{path:"/menu",component:l.default},{path:"/estimate",component:d.default},{path:"/merchants",component:f.default}],h=new r.default({linkActiveClass:"active",routes:p});s.default=h},,function(t,s,e){e(82);var a=e(1)(e(44),e(95),"data-v-54d942eb",null);t.exports=a.exports},,,,,,,,,,,,,,,,,,function(t,s,e){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(s,"__esModule",{value:!0});var i=e(22),n=a(i),o=e(3),r=a(o),c=e(2);a(c);s.default={name:"app",data:function(){return{shop:{}}},created:function(){var t=this;r.default.get("static/goodsData.json").then(function(s){var e=s.data.data;t.shop=e.shopInfo})},components:{"v-header":n.default}}},function(t,s,e){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(s,"__esModule",{value:!0}),e(2);var i=e(21),n=a(i),o=e(15),r=a(o);s.default={props:{selectFoods:{type:Array},shop:{type:Object}},data:function(){return{dish:{},flag:!0,showDialog:!1}},computed:{totalPrice:function(){var t=this,s=0;return this.selectFoods.forEach(function(e){t.dish=e,e.count&&e.discountPrice&&(s+=e.discountPrice*e.count)}),s},totalCount:function(){var t=0;return this.selectFoods.forEach(function(s){s.count&&(t+=s.count)}),t},cartShow:function(){var t=this;if(!this.totalCount)return this.flag=!0,!1;var s=!this.flag;return s&&this.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new r.default(t.$refs.listContent,{click:!0})}),s}},methods:{goAccount:function(){window.alert("支付"+(this.totalPrice+this.shop.deliveryFee)+"元")},toggleList:function(){return!!this.totalCount&&void(this.flag=!this.flag)},hideList:function(){this.flag=!0},clearCart:function(){var t=this;t.showDialog=!0;var s=document.getElementById("confirm"),e=document.getElementsByClassName("cancel")[0];t.showDialog&&(s.addEventListener("click",function(){t.selectFoods.forEach(function(s){s.count=0,t.showDialog=!1,t.flag=!0})}),e.addEventListener("click",function(){t.showDialog=!1}))}},components:{cartControl:n.default}}},function(t,s,e){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(s,"__esModule",{value:!0});var i=e(4),n=a(i);s.default={props:{food:{type:Object}},methods:{addCart:function(t){this.food.count?this.food.count++:n.default.set(this.food,"count",1),this.$emit("add",t.target)},decreaseCart:function(t){this.food.count&&this.food.count--}}}},function(t,s,e){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(s,"__esModule",{value:!0});var i=e(23),n=a(i);e(2);var o=e(3),r=a(o);s.default={data:function(){return{cmt:{},list:[],defaultUserPic:"http://xs01.meituan.net/waimai_i/img/friend/userpic_defalut.c741e924.png"}},created:function(){var t=this;r.default.get("static/shopComment.json").then(function(s){t.cmt=s.data.data,t.list=s.data.data.list})},components:{star:n.default}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={props:{shop:{type:Object}},data:function(){return{}},components:{}}},function(t,s,e){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(s,"__esModule",{value:!0}),e(2);var i=e(22),n=(a(i),e(3)),o=a(n),r=e(89),c=a(r),l=e(21),u=a(l),d=e(15),v=a(d);s.default={data:function(){return{shop:{},goods:[],dishCategory:[],listHeight:[],scrollY:0}},computed:{currentIndex:function(){for(var t=0;t<this.listHeight.length;t++){var s=this.listHeight[t],e=this.listHeight[t+1];if(!e||this.scrollY>=s&&this.scrollY<e)return t}return 0},selectFoods:function(){var t=this,s=[],e=t.dishCategory;return e.forEach(function(t){var e=t.dishList;e.forEach(function(t){t.count&&s.push(t)})}),s}},created:function(){var t=this;o.default.get("static/goodsData.json").then(function(s){var e=s.data.data;t.shop=e.shopInfo,t.dishCategory=e.dishCategory,t.$nextTick(function(){t._initScroll(),t._calculateHeight()})})},methods:{selectMenu:function(t){var s=this.$refs.dishList,e=s[t];this.foodsScroll.scrollToElement(e,300)},_initScroll:function(){var t=this;this.meunScroll=new v.default(this.$refs.menuWrapper,{click:!0}),this.foodsScroll=new v.default(this.$refs.foodsWrapper,{click:!0,probeType:3}),this.foodsScroll.on("scroll",function(s){t.scrollY=Math.abs(Math.round(s.y))})},_calculateHeight:function(){var t=this.$refs.dishList,s=0;this.listHeight.push(s);for(var e=0;e<t.length;e++){var a=t[e];s+=a.clientHeight,this.listHeight.push(s)}}},components:{cart:c.default,cartControl:u.default}}},function(t,s,e){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(s,"__esModule",{value:!0});var i=e(3),n=a(i),o=e(2),r=(a(o),e(23)),c=a(r);s.default={data:function(){return{shopInfo:{}}},created:function(){var t=this;n.default.get("static/shopInfo.json").then(function(s){t.shopInfo=s.data.data})},components:{star:c.default}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),e(2);var a=5,i="on",n="half",o="off";s.default={props:{score:{type:Number}},computed:{itemClasses:function(){for(var t=[],s=Math.floor(2*this.score)/2,e=String(this.score).indexOf(".")>-1,r=Math.floor(s),c=0;c<r;c++)t.push(i);for(e&&t.push(n);t.length<a;)t.push(o);return t}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},,function(t,s,e){e(83);var a=e(1)(e(45),e(96),null,null);t.exports=a.exports},function(t,s,e){e(80);var a=e(1)(e(47),e(93),null,null);t.exports=a.exports},function(t,s,e){e(81);var a=e(1)(e(49),e(94),null,null);t.exports=a.exports},function(t,s,e){e(86);var a=e(1)(e(50),e(99),"data-v-7e79e4a2",null);t.exports=a.exports},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"comment-wrap"},[e("div",{staticClass:"m-comment"},[e("ul",{staticClass:"info-left"},[e("li",{staticClass:"info-score"},[t._v(t._s(t.cmt.integratedScore))]),t._v(" "),e("li",{staticClass:"info-desc"},[t._v("综合评分")]),t._v(" "),e("li",{staticClass:"info-good"},[t._v(t._s(t.cmt.praiseRatio))])]),t._v(" "),e("ul",{staticClass:"info-right"},[e("li",{staticClass:"info-star"},[t._v("\n                配送评分\n                "),e("p",[e("star",{attrs:{score:t.cmt.deliveryScore}}),t._v(" "),e("span",[t._v(t._s(t.cmt.deliveryScore))])],1)]),t._v(" "),e("li",{staticClass:"info-star"},[t._v("\n                商家评分\n                "),e("p",[e("star",{attrs:{score:t.cmt.shopScore}}),t._v(" "),e("span",[t._v(t._s(t.cmt.shopScore))])],1)])])]),t._v(" "),e("div",{staticClass:"m-cmtType"},t._l(t.cmt.commentLabels,function(s){return e("span",[t._v(t._s(s.content))])})),t._v(" "),e("ul",{staticClass:"evaluate-wrap"},t._l(t.list,function(s){return e("li",{staticClass:"evaluate-list"},[e("div",{staticClass:"content"},[e("div",{staticClass:"evaluate-left"},[e("img",{attrs:{src:s.userPicUrl||t.defaultUserPic,alt:""}})]),t._v(" "),e("div",{staticClass:"evaluate-right"},[e("p",{staticClass:"evaluate-sub"},[e("span",{staticClass:"name"},[t._v(t._s(s.userName||"美团外卖用户"))]),t._v(" "),e("span",{staticClass:"time"},[t._v(t._s(s.commentTime))])]),t._v(" "),e("p",{staticClass:"evaluate-star"},[e("star",{attrs:{score:s.score}}),t._v(" "),e("span",{staticClass:"ship-time"},[t._v(t._s(s.deliveryTime))])],1),t._v(" "),e("p",{staticClass:"evaluate-comment"},[t._v("\n                        "+t._s(s.content)+"\n                    ")]),t._v(" "),s.pictures?e("div",{staticClass:"evaluate-pic"},t._l(s.pictures,function(t){return e("img",{attrs:{src:t.smallPicUrl,alt:""}})})):t._e(),t._v(" "),e("p",{staticClass:"evaluate-label"},[s.label?e("i",{staticClass:"label"}):t._e(),t._v("\n                        "+t._s(s.label)+"\n                    ")]),t._v(" "),s.shopReply?e("p",{staticClass:"add-comment"},[t._v("\n                        "+t._s(s.shopReply)+"\n                    ")]):t._e()])])])}))])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"m-menu"},[e("div",{ref:"menuWrapper",staticClass:"menu-wrap"},[e("ul",{staticClass:"menu-list"},t._l(t.dishCategory,function(s,a){return e("li",{staticClass:"menu-item",class:{current:t.currentIndex===a},on:{click:function(s){t.selectMenu(a)}}},[t._v(t._s(s.category))])}))]),t._v(" "),e("div",{ref:"foodsWrapper",staticClass:"foods-wrap"},[e("ul",t._l(t.dishCategory,function(s){return e("li",{ref:"dishList",refInFor:!0,staticClass:"foods-list"},[e("h1",{staticClass:"title"},[t._v(t._s(s.category))]),t._v(" "),e("ul",t._l(s.dishList,function(s){return e("li",{staticClass:"food-item"},[e("div",{staticClass:"dish-basic"},[e("div",{staticClass:"img"},[e("img",{attrs:{src:s.largeImg}})]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"name"},[t._v(t._s(s.name))]),t._v(" "),e("p",{staticClass:"description"},[t._v(t._s(s.desc))]),t._v(" "),e("div",{staticClass:"extra"},[e("span",{staticClass:"count"},[t._v("月售"+t._s(s.sold)+"份")])]),t._v(" "),e("div",{staticClass:"deal"},[e("span",{staticClass:"price"},[t._v("￥"+t._s(s.discountPrice))]),t._v(" "),e("div",{staticClass:"cart-wrapper"},[e("cartControl",{attrs:{food:s}})],1)])])])])}))])}))]),t._v(" "),e("cart",{attrs:{shop:t.shop,selectFoods:t.selectFoods}})],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("v-header",{attrs:{shop:t.shop}}),t._v(" "),e("div",{staticClass:"tabs-wrap"},[e("div",{staticClass:"tabs"},[e("router-link",{attrs:{to:"/menu"}},[t._v("菜单")])],1),t._v(" "),e("div",{staticClass:"tabs"},[e("router-link",{attrs:{to:"/estimate"}},[t._v("评价")])],1),t._v(" "),e("div",{staticClass:"tabs"},[e("router-link",{attrs:{to:"/merchants"}},[t._v("商户")])],1)]),t._v(" "),e("keep-alive",[e("router-view")],1)],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.totalCount?e("div",{staticClass:"new-cart"},[e("div",{staticClass:"box"},[e("i",{staticClass:"cart-icon",on:{click:t.toggleList}},[e("i",{staticClass:"num"},[t._v(t._s(t.totalCount))])]),t._v(" "),e("div",{staticClass:"price-box"},[e("p",{staticClass:"total"},[t._v(" ￥"+t._s(t.totalPrice))]),t._v(" "),e("p",{staticClass:"delivery"},[t._v("另需配送费￥"+t._s(t.shop.deliveryFee))])]),t._v(" "),e("div",{staticClass:"btn-submit",on:{click:t.goAccount}},[t._v("去结算")])]),t._v(" "),e("transition",{attrs:{name:"flag"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.cartShow,expression:"cartShow"}],staticClass:"cart-panel-detail"},[e("div",{staticClass:"shopcart-container"},[e("div",{staticClass:"cart-head"},[e("span",{staticClass:"titile"},[t._v("购物车")]),t._v(" "),e("span",{staticClass:"clear-icon"}),t._v(" "),e("span",{staticClass:"clear-btn",on:{click:t.clearCart}},[t._v("清空购物车")])]),t._v(" "),e("ul",{ref:"listContent",staticClass:"cart-content"},t._l(t.selectFoods,function(s){return e("li",{staticClass:"dish-list"},[e("p",{staticClass:"name"},[t._v(t._s(s.name))]),t._v(" "),e("p",{staticClass:"price"},[t._v("￥"+t._s(s.discountPrice))]),t._v(" "),e("cartControl",{attrs:{food:s}})],1)}))]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showDialog,expression:"showDialog"}],staticClass:"dialog"},[e("div",{staticClass:"content"},[t._v("确定要清空购物车吗？")]),t._v(" "),e("div",{staticClass:"btn"},[e("a",{staticClass:"cancel",attrs:{href:"#"}},[t._v("取消")]),t._v(" "),e("a",{staticClass:"confirm",attrs:{href:"#",id:"confirm"}},[t._v("确定")])])])])])],1):e("div",{staticClass:"cartfooter"},[e("div",{staticClass:"container"},[e("i",{staticClass:"cart"}),t._v(" "),e("p",{staticClass:"min-del"},[t._v("另需配送费￥"+t._s(t.shop.deliveryFee))]),t._v(" "),e("p",{staticClass:"min-fee"},[t._v(t._s(t.shop.minFee)+"￥起送")])])])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"hd-wrapper"},[e("div",{staticClass:"shop-header"},[e("img",{attrs:{src:t.shop.shopPic,alt:""}}),t._v(" "),e("div",{staticClass:"shop-item"},[e("div",{staticClass:"sub-title-holder"},[e("p",{staticClass:"subtitle"},[t._v(t._s(t.shop.deliveryTime)+"分钟")]),t._v(" "),e("p",{staticClass:"subtitle"},[t._v("起送￥"+t._s(t.shop.minFee))]),t._v(" "),e("p",{staticClass:"subtitle"},[t._v("配送￥"+t._s(t.shop.deliveryFee))])]),t._v(" "),e("p",{staticClass:"delivery-msg"},[t._v(t._s(t.shop.deliveryMsg))])])])])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"cartcontrol"},[e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count > 0"}],staticClass:"cart-decrease",on:{click:function(s){s.stopPropagation(),s.preventDefault(),t.decreaseCart(s)}}},[e("span",{staticClass:"minus-icon"})])]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"cart-count"},[t._v(t._s(t.food.count))]),t._v(" "),e("div",{staticClass:"cart-add",on:{click:function(s){s.stopPropagation(),s.preventDefault(),t.addCart(s)}}})],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shop-wrap"},[e("div",{staticClass:"m-shop"},[e("div",{staticClass:"shopName"},[e("div",{staticClass:"shop-item"},[e("p",{staticClass:"title"},[t._v(t._s(t.shopInfo.shopName))]),t._v(" "),e("star",{attrs:{score:t.shopInfo.shopStar}}),t._v(" "),e("p",{staticClass:"info"},[e("span"),t._v(" "),e("span",[t._v(t._s(t.shopInfo.sold))])]),t._v(" "),e("div",{staticClass:"shop-tel"},[e("a",{attrs:{href:t.shopInfo.shopPhone}})])],1)])]),t._v(" "),e("div",{staticClass:"shopDetail"},[e("p",[e("i",{staticClass:"broadcast"}),t._v(t._s(t.shopInfo.tip))]),t._v(" "),e("p",[e("i",{staticClass:"time"}),t._v(t._s(t.shopInfo.serTime)+"外送")]),t._v(" "),e("p",[e("i",{staticClass:"address"}),t._v(t._s(t.shopInfo.shopAddress))]),t._v(" "),e("p",[e("i",{staticClass:"img"}),t._v(t._s(t.shopInfo.shopEnvTitle))])]),t._v(" "),e("div",{staticClass:"other"},[t.shopInfo.brandMsg?e("p",[e("i",{staticClass:"brand"}),t._v("\n            "+t._s(t.shopInfo.brandMsg)+"\n        ")]):t._e(),t._v(" "),t.shopInfo.onlinePay?e("p",[e("i",{staticClass:"pay"}),t._v("\n            该商户支持在线支付\n        ")]):t._e(),t._v(" "),t.shopInfo.invoiceMsg?e("p",[e("i",{staticClass:"ticket"}),t._v("\n            "+t._s(t.shopInfo.invoiceMsg)+"\n        ")]):t._e()])])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"star"},t._l(t.itemClasses,function(t,s){return e("span",{key:"index",staticClass:"star-item",class:t})}))},staticRenderFns:[]}},,,,function(t,s,e){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var i=e(25),n=a(i),o=e(4),r=a(o),c=e(26),l=a(c),u=e(24),d=a(u);new r.default((0,n.default)({el:"#app",router:d.default},l.default))}],[104]);
//# sourceMappingURL=app.81c925102533f84f8bbe.js.map